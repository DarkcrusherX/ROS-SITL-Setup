Installation of Px4 SITL with ros and gazebo

Go to px4 firmware Github repo and git clone it. Firmware will get cloned to file named Firmware in home.
https://github.com/PX4/Firmware 

Now go to this site and navigate to Gazebo with ROS Melodic ,download and run ubuntu_sim_ros_melodic.sh script. source ubuntu_sim_ros_melodic.sh will execute it.

Now go to Firmware folder and execute the commands in https://dev.px4.io/v1.9.0/en/simulation/gazebo.html to get the vehicle.

Use this roslaunch statement to launch mavros
roslaunch mavros px4.launch fcu_url:="udp://:14540@192.168.1.36:14557"

Now the simulation is ready and can be controlled with ros nodes.
